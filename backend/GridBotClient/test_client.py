import json
import websocket


# Connect to websocket server
ws = websocket.WebSocket()
ws.connect("ws://localhost:9001/")
print("Connected to websocket server")

# Wait for messages
while True:
    message = json.loads(ws.recv())
    print("Received message:", message["fb"])
    # Process the message or perform any other necessary actions


for buy_order in buy_orders:
    print("Checking Buy Order " + str(buy_order["orderId"]))
    try:
        order = exchange.fetch_order(buy_order["orderId"], config.SYMBOL)
    except Exception as e:
        print("Request Failed, Retrying...")
        continue
    order_info = order["info"]
    order_status = order_info["status"]
    if order_status == config.CLOSED_ORDER_STATUS:
        closed_order_ids.append(order_info["orderId"])
        closed_orders.append(order_info)
        print("Buy Order Executed at " + str(order_info["price"]))
        buy_price = float(order_info["price"]) * POSITION_SIZE
        total_profit[0]["total_profit"] -= buy_price
        new_sell_price = float(order_info["price"]) + GRID_SIZE
        print("Creating New Limit Sell Order at " + str(new_sell_price))
        new_sell_order = exchange.create_limit_sell_order(
            config.SYMBOL, POSITION_SIZE, new_sell_price
        )
        sell_orders.append(new_sell_order["info"])
    time.sleep(config.CHECK_ORDERS_FREQUENCY)
for sell_order in sell_orders:
    print("Checking Sell Order " + str(sell_order["orderId"]))
    try:
        order = exchange.fetch_order(sell_order["orderId"], config.SYMBOL)
    except Exception as e:
        print("Request Failed, Retrying...")
        continue
    order_info = order["info"]
    order_status = order_info["status"]
    if order_status == config.CLOSED_ORDER_STATUS:
        closed_order_ids.append(order_info["orderId"])
        closed_orders.append(order_info)
        print("Sell Order Executed at " + str(order_info["price"]))
        sell_price = float(order_info["price"]) * POSITION_SIZE
        total_profit[0]["total_profit"] += sell_price
        new_buy_price = float(order_info["price"]) - GRID_SIZE
        print("Creating New Limit Buy Order at " + str(new_buy_price))
        new_buy_order = exchange.create_limit_buy_order(
            config.SYMBOL, POSITION_SIZE, new_buy_price
        )
        buy_orders.append(new_buy_order["info"])


payload = {
    "order_data": [
        {
            "symbol": "ETHUSDT",
            "orderId": "12339007",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S823e38e08690424a4c45b82f",
            "transactTime": "1685999865864",
            "price": "1802.14000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1685999865864",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339018",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82b6111210ccf9a2f9a6e953",
            "transactTime": "1685999867348",
            "price": "1801.64000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1685999867348",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339025",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82f45c0bcdfbf875cf039234",
            "transactTime": "1685999868005",
            "price": "1801.14000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1685999868005",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339032",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82f2bf9b748b63372b5b4aee",
            "transactTime": "1685999869491",
            "price": "1800.64000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1685999869491",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339039",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S826db97862efa2f70d58dd46",
            "transactTime": "1685999870142",
            "price": "1800.14000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1685999870142",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339012",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S8229699a44aac73d4c49e942",
            "transactTime": "1685999866084",
            "price": "1803.14000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1685999866084",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339019",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S8238f789039bc09e60be713c",
            "transactTime": "1685999867566",
            "price": "1803.64000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1685999867566",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339026",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S8242c5341a357cb38981b761",
            "transactTime": "1685999868640",
            "price": "1804.14000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1685999868640",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339033",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S8298c5b28af7e4e78a754779",
            "transactTime": "1685999869707",
            "price": "1804.64000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1685999869707",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12339040",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S829e75eef6052e4d1cc5024a",
            "transactTime": "1685999870361",
            "price": "1805.14000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1685999870361",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        1802.66,
        {"total_profit": 0},
    ]
}

payload2 = {
    "order_data": [
        {
            "symbol": "ETHUSDT",
            "orderId": "12355774",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82823b020a3953a299ccd965",
            "transactTime": "1686003976436",
            "price": "1806.16000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686003976436",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355780",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82a3ba576fa881df77a954ed",
            "transactTime": "1686003976872",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.06670000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686003976872",
            "fills": [
                {
                    "price": "1806.67000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "2140346",
                }
            ],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355785",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82d510cf38ac4485f99923c3",
            "transactTime": "1686003977507",
            "price": "1805.66000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686003977507",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355791",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S829bafa2440c13ea9f67d2a0",
            "transactTime": "1686003978774",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.06680000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686003978774",
            "fills": [
                {
                    "price": "1806.68000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "2140348",
                }
            ],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355794",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S821748dacca6c48460c1fe72",
            "transactTime": "1686003978992",
            "price": "1805.16000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686003978992",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355798",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82a20d2e924e7a5bb306b4fa",
            "transactTime": "1686003980267",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.06680000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686003980267",
            "fills": [
                {
                    "price": "1806.68000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "2140349",
                }
            ],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355799",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82d8a2f784931a0b1ee15d7",
            "transactTime": "1686003980537",
            "price": "1804.66000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686003980537",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355801",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S8227a5633892a9f8a785b93f",
            "transactTime": "1686003980974",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.06680000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686003980974",
            "fills": [
                {
                    "price": "1806.68000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "2140350",
                }
            ],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355806",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82e99c244a466c43aad61f0e",
            "transactTime": "1686003981205",
            "price": "1804.16000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686003981205",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355808",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S828d28828b0a900edd799b89",
            "transactTime": "1686003981643",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.06750000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686003981643",
            "fills": [
                {
                    "price": "1806.75000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "2140352",
                }
            ],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355779",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82e631ae14664628e2a043da",
            "transactTime": "1686003976653",
            "price": "1807.16000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686003976653",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355790",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82ecec5389852cedad62031f",
            "transactTime": "1686003978141",
            "price": "1807.66000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686003978141",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355795",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S822809825dcf902cddb2c6da",
            "transactTime": "1686003979631",
            "price": "1808.16000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686003979631",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355800",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S828a2a4c2631cce5df3a77ce",
            "transactTime": "1686003980755",
            "price": "1808.66000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686003980755",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        {
            "symbol": "ETHUSDT",
            "orderId": "12355807",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82a789f6e63ec4d3868d0539",
            "transactTime": "1686003981426",
            "price": "1809.16000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686003981426",
            "fills": [],
            "selfTradePreventionMode": "NONE",
        },
        1806.75,
        {"total_profit": 0},
    ]
}


payload3 = {
    "order_data": [
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681749",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S825aee2354de6ebfe59631aa",
                "transactTime": "1686087161818",
                "price": "1875.95000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "BUY",
                "workingTime": "1686087161818",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": null,
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681754",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S827162af91352619bdcbad54",
                "transactTime": "1686087163079",
                "price": "0.00000000",
                "origQty": "0.01000000",
                "executedQty": "0.01000000",
                "cummulativeQuoteQty": "18.76480000",
                "status": "FILLED",
                "timeInForce": "GTC",
                "type": "MARKET",
                "side": "BUY",
                "workingTime": "1686087163079",
                "fills": [
                    {
                        "price": "1876.48000000",
                        "qty": "0.01000000",
                        "commission": "0.00000000",
                        "commissionAsset": "ETH",
                        "tradeId": "2184915",
                    }
                ],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681753",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82d8e3cf80ab088e802d576c",
                "transactTime": "1686087162448",
                "price": "1876.95000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "SELL",
                "workingTime": "1686087162448",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681759",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82a0cb4905eeb2df07ce2d82",
                "transactTime": "1686087163713",
                "price": "1875.45000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "BUY",
                "workingTime": "1686087163713",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": null,
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681764",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82551a58b3b3f38d214b389",
                "transactTime": "1686087164563",
                "price": "0.00000000",
                "origQty": "0.01000000",
                "executedQty": "0.01000000",
                "cummulativeQuoteQty": "18.76480000",
                "status": "FILLED",
                "timeInForce": "GTC",
                "type": "MARKET",
                "side": "BUY",
                "workingTime": "1686087164563",
                "fills": [
                    {
                        "price": "1876.48000000",
                        "qty": "0.01000000",
                        "commission": "0.00000000",
                        "commissionAsset": "ETH",
                        "tradeId": "2184916",
                    }
                ],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681760",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S8273c09ff90ecdd3a9d69c55",
                "transactTime": "1686087164346",
                "price": "1877.45000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "SELL",
                "workingTime": "1686087164346",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681765",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82adca0927af0a9290dc8daa",
                "transactTime": "1686087165196",
                "price": "1874.95000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "BUY",
                "workingTime": "1686087165196",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": null,
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681775",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S828b054bc181a04917ba1942",
                "transactTime": "1686087166463",
                "price": "0.00000000",
                "origQty": "0.01000000",
                "executedQty": "0.01000000",
                "cummulativeQuoteQty": "18.76480000",
                "status": "FILLED",
                "timeInForce": "GTC",
                "type": "MARKET",
                "side": "BUY",
                "workingTime": "1686087166463",
                "fills": [
                    {
                        "price": "1876.48000000",
                        "qty": "0.01000000",
                        "commission": "0.00000000",
                        "commissionAsset": "ETH",
                        "tradeId": "2184917",
                    }
                ],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681770",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82d10e301f6e15844ed6dea1",
                "transactTime": "1686087165828",
                "price": "1877.95000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "SELL",
                "workingTime": "1686087165828",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681776",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S8268c4b5b97797b85c7a725d",
                "transactTime": "1686087166681",
                "price": "1874.45000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "BUY",
                "workingTime": "1686087166681",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": null,
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681778",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82ba8d6bf9074f84bc749a2e",
                "transactTime": "1686087167115",
                "price": "0.00000000",
                "origQty": "0.01000000",
                "executedQty": "0.01000000",
                "cummulativeQuoteQty": "18.76480000",
                "status": "FILLED",
                "timeInForce": "GTC",
                "type": "MARKET",
                "side": "BUY",
                "workingTime": "1686087167115",
                "fills": [
                    {
                        "price": "1876.48000000",
                        "qty": "0.01000000",
                        "commission": "0.00000000",
                        "commissionAsset": "ETH",
                        "tradeId": "2184918",
                    }
                ],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681777",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82fb8f81a9da9118615a6b3d",
                "transactTime": "1686087166898",
                "price": "1878.45000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "SELL",
                "workingTime": "1686087166898",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681779",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82ef8a63804c981c43a8f8f6",
                "transactTime": "1686087167335",
                "price": "1873.95000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "BUY",
                "workingTime": "1686087167335",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": null,
        },
        {
            "buy_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681783",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S8283106f3498b0a63ebc820a",
                "transactTime": "1686087167772",
                "price": "0.00000000",
                "origQty": "0.01000000",
                "executedQty": "0.01000000",
                "cummulativeQuoteQty": "18.76480000",
                "status": "FILLED",
                "timeInForce": "GTC",
                "type": "MARKET",
                "side": "BUY",
                "workingTime": "1686087167772",
                "fills": [
                    {
                        "price": "1876.48000000",
                        "qty": "0.01000000",
                        "commission": "0.00000000",
                        "commissionAsset": "ETH",
                        "tradeId": "2184919",
                    }
                ],
                "selfTradePreventionMode": "NONE",
            },
            "sell_order": {
                "symbol": "ETHUSDT",
                "orderId": "12681782",
                "orderListId": "-1",
                "clientOrderId": "x-R4BD3S82b12c520efc5c7fb22d7709",
                "transactTime": "1686087167553",
                "price": "1878.95000000",
                "origQty": "0.01000000",
                "executedQty": "0.00000000",
                "cummulativeQuoteQty": "0.00000000",
                "status": "NEW",
                "timeInForce": "GTC",
                "type": "LIMIT",
                "side": "SELL",
                "workingTime": "1686087167553",
                "fills": [],
                "selfTradePreventionMode": "NONE",
            },
        },
        1876.48,
        {"total_profit": 0},
    ]
}

objectRecieved = [
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26573",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82a2df2fc2e9fcd575c248c4",
            "transactTime": "1686140028759",
            "price": "1863.83000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686140028759",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": null,
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26580",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82cab509ae8139b77d4872b0",
            "transactTime": "1686140029618",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.64370000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686140029618",
            "fills": [
                {
                    "price": "1864.37000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "6154"
                }
            ],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": {
            "symbol": "ETHUSDT",
            "orderId": "26579",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82ec30ad17f9e76e674f4a6e",
            "transactTime": "1686140029397",
            "price": "1864.83000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686140029397",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26583",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S828d95cec5e2579226141425",
            "transactTime": "1686140030255",
            "price": "1863.33000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686140030255",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": null,
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26587",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S827db33ef4a5f2757c17f2a2",
            "transactTime": "1686140031109",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.64370000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686140031109",
            "fills": [
                {
                    "price": "1864.37000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "6155"
                }
            ],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": {
            "symbol": "ETHUSDT",
            "orderId": "26586",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82605ba24b626d97d916a5d9",
            "transactTime": "1686140030887",
            "price": "1865.33000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686140030887",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26588",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82475f86839e24a295f0d27a",
            "transactTime": "1686140031328",
            "price": "1862.83000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686140031328",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": null,
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26598",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82803a060069b0db08a76ad7",
            "transactTime": "1686140032599",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.64370000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686140032599",
            "fills": [
                {
                    "price": "1864.37000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "6156"
                }
            ],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": {
            "symbol": "ETHUSDT",
            "orderId": "26593",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82411a22ed8d304374d8d6a3",
            "transactTime": "1686140031963",
            "price": "1865.83000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686140031963",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26599",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82c4857909ee9fd293087b9c",
            "transactTime": "1686140032820",
            "price": "1862.33000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686140032820",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": null,
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26605",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S8229acb9a4d47e8d44b4c3a7",
            "transactTime": "1686140033261",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.64370000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686140033261",
            "fills": [
                {
                    "price": "1864.37000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "6157"
                }
            ],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": {
            "symbol": "ETHUSDT",
            "orderId": "26600",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S822aeb19157d303b51d7b237",
            "transactTime": "1686140033040",
            "price": "1866.33000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686140033040",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26606",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S829e620dd865a156341cf21f",
            "transactTime": "1686140033481",
            "price": "1861.83000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "BUY",
            "workingTime": "1686140033481",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": null,
        "open": true
    },
    {
        "buy_order": {
            "symbol": "ETHUSDT",
            "orderId": "26608",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S829f87d346ffce417e414a74",
            "transactTime": "1686140033924",
            "price": "0.00000000",
            "origQty": "0.01000000",
            "executedQty": "0.01000000",
            "cummulativeQuoteQty": "18.64370000",
            "status": "FILLED",
            "timeInForce": "GTC",
            "type": "MARKET",
            "side": "BUY",
            "workingTime": "1686140033924",
            "fills": [
                {
                    "price": "1864.37000000",
                    "qty": "0.01000000",
                    "commission": "0.00000000",
                    "commissionAsset": "ETH",
                    "tradeId": "6158"
                }
            ],
            "selfTradePreventionMode": "NONE"
        },
        "sell_order": {
            "symbol": "ETHUSDT",
            "orderId": "26607",
            "orderListId": "-1",
            "clientOrderId": "x-R4BD3S82987700cef7ff3b226fe386",
            "transactTime": "1686140033700",
            "price": "1866.83000000",
            "origQty": "0.01000000",
            "executedQty": "0.00000000",
            "cummulativeQuoteQty": "0.00000000",
            "status": "NEW",
            "timeInForce": "GTC",
            "type": "LIMIT",
            "side": "SELL",
            "workingTime": "1686140033700",
            "fills": [],
            "selfTradePreventionMode": "NONE"
        },
        "open": true
    },
    1864.37,
    {
        "total_profit": 0
    }
]
